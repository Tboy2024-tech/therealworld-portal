import{__esmMin as e}from"./rolldown-runtime.CP6z-Z_K.mjs";import{init_jsx_runtime as t,init_npm_react_18_2 as n,init_ssg_sandbox_shims as r,p as i,te as a,u as o,window as s,ye as c}from"./react.DdAdrG9f.mjs";import{init_framer_motion_6K3CE3GN as l,motion as u,useAnimationControls as ee}from"./motion.CpL-ePqS.mjs";import{ControlType as d,addPropertyControls as f,inferInitialRouteFromPath as te,init_framer_F7PBHTL4 as p,useRouter as ne,useTracking as re,withCSS as m}from"./framer.CG282gAs.mjs";function ie(e){console.log(e);try{return new URL(e),e}catch{try{return new URL(`https://${e}`),`https://${e}`}catch{}}}function h(e){return e===void 0?!1:!!(e.startsWith(`#`)||e.startsWith(`/`)||e.startsWith(`.`))}function ae(e){return e.buttonShadow?`${e.buttonShadow.shadowX}px ${e.buttonShadow.shadowY}px ${e.buttonShadow.shadowBlur}px ${e.buttonShadow.shadowColor}`:`none`}function g(...e){let t=[];return e.forEach(e=>e&&t.push(e)),t.join(`, `)}var _,v,y,b,x,S,C,w,T,E,D=e((()=>{r(),t(),n(),p(),l(),_=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,v=/^https?:\/\/([^\/]+)[^\?]+\??(.+)$/,y=e=>_.test(String(e).toLowerCase()),b=e=>{let[,t,n]=e.replace(`&amp;`,`&`).match(v)??[null,null,null];return[t,n?new URLSearchParams(n):null]},x=`v1`,S=m(function({service:e,redirectAs:t,mailchimpURL:n,loopsID:r,loopsUserGroup:l,loopsMailingList:d,formsparkID:f,getwaitlistAPI:p,convertkitAPI:m,convertkitFormID:_,trackingId:v,input:S,button:E,font:D,layout:oe,link:O,gap:se,style:ce,onSubmit:k}){let[A,j]=c(``),[le,M]=c(!1),[N,P]=c(!1),[ue,F]=c(!1),{paddingPerSide:I,paddingTop:L,paddingRight:R,paddingBottom:de,paddingLeft:fe,padding:z,borderRadius:B,borderObject:V,focusObject:H,shadowObject:U,height:W,fixedHeight:G}=S,{buttonPaddingPerSide:pe,buttonPaddingTop:me,buttonPaddingRight:he,buttonPaddingBottom:ge,buttonPaddingLeft:_e,buttonPadding:K}=E,ve=I?`${L}px ${E.isDocked?R+E.widthWhenDocked:R}px ${de}px ${fe}px`:`${z}px ${E.isDocked?z+E.widthWhenDocked:z}px ${z}px ${z}px`,ye=pe?`${E.isDocked?0:me}px ${he}px ${E.isDocked?0:ge}px ${_e}px`:`${E.isDocked?0:K}px ${K}px ${E.isDocked?0:K}px ${K}px`,q=ne(),be=re(),J=()=>{if(P(!1),F(!1),j(``),v&&be(v),t===`link`&&O&&!le){let[e,t]=O.split(`#`),n=e.split(`?`)[0]||``,{routeId:r,pathVariables:i}=te(q.routes,n);if(r&&h(O)&&q.navigate(r,t,i),!h(O)){let e=ie(O);e&&s!==void 0&&s.open(e,`_blank`)}}},Y=a(e=>e===``||!y(e)?(M(!0),X.start(`error`),!1):!0,[y]),xe=a(e=>{M(!1),j(e.target.value)},[]),Se=a(e=>{F(!0)},[]),Ce=a(e=>{F(!1),M(!1)},[]),we=a(i=>{if(i.preventDefault(),!N){if(P(!0),e===`mailchimp`){let[e,r]=b(n);if(!Y(A)||!e||!r){P(!1);return}r.set(`MERGE0`,A),fetch(`https://${e}/subscribe/post`,{method:`POST`,mode:`no-cors`,headers:{"Content-Type":`application/x-www-form-urlencoded;charset=UTF-8`},body:r.toString()}).then(e=>{J(),t===`overlay`&&k?.()}).catch(e=>{console.error(e),P(!1),M(!0),X.start(`error`)})}if(e===`loops`){if(!Y(A)){P(!1);return}let e=`email=${encodeURIComponent(A)}`,n=`userGroup=${encodeURIComponent(l)}`,i=`mailingLists=${encodeURIComponent(d)}`,a=!!d&&d!==` `,o=!!l&&l!==` `,s=e;o&&(s+=`&${n}`),a&&(s+=`&${i}`),fetch(`https://app.loops.so/api/newsletter-form/${r}`,{method:`POST`,mode:`no-cors`,headers:{"Content-Type":`application/x-www-form-urlencoded`},body:s}).then(()=>{J(),t===`overlay`&&k?.()}).catch(e=>{console.error(e),P(!1),M(!0),X.start(`error`)})}if(e===`formspark`){if(!Y(A)){P(!1);return}let e=new FormData(i.target),t=Object.fromEntries(e.entries());fetch(`https://api.formspark.io/${f}`,{method:`POST`,headers:{"Content-Type":`application/json`,Accept:`application/json`},body:JSON.stringify(t)}).then(()=>{J(),k?.()}).catch(e=>{console.error(e),P(!1),M(!0),X.start(`error`)})}if(e===`getwaitlist`){if(!Y(A)){P(!1);return}let e=new FormData(i.target),n=Object.fromEntries(e.entries());n.referral_link=document.URL,fetch(`https://api.getwaitlist.com/api/v1
/waiter/`,{method:`POST`,headers:{"Content-Type":`application/json`,Accept:`application/json`},body:JSON.stringify(n)}).then(()=>{J(),t===`overlay`&&k?.()}).catch(e=>{console.error(e),P(!1),M(!0),X.start(`error`)})}if(e===`convertkit`){if(!Y(A)){P(!1);return}let e=new FormData(i.target),n=Object.fromEntries(e.entries());n.referral_link=document.URL,n.api_key=m,fetch(`https://api.convertkit.com/v3/forms/${_}/subscribe`,{method:`POST`,headers:{"Content-Type":`application/json`,Accept:`application/json`},body:JSON.stringify(n)}).then(()=>{J(),t===`overlay`&&k?.()}).catch(e=>{console.error(e),P(!1),M(!0),X.start(`error`)})}}},[n,f,_,A,k,Y,N]),X=ee(),Z=S.focusObject?`inset 0 0 0 ${H.focusWidthFrom}px ${H.focusColor}`:null,Te=S.focusObject?`inset 0 0 0 ${H.focusWidthTo}px ${H.focusColor}`:null,Q=S.shadowObject?`${U.shadowX}px ${U.shadowY}px ${U.shadowBlur}px ${U.shadowColor}`:null,$=S.borderObject?`inset 0 0 0 ${V.borderWidth}px ${V.borderColor}`:null,Ee={default:{x:0},error:{x:[0,-4,4,0],transition:{duration:.2}}},De={default:{boxShadow:g(Z,Q,$)},focused:{boxShadow:g(Te,Q,$)}};return i(u.div,{style:{...ce,...T,"--framer-custom-placeholder-color":S.placeholderColor},variants:Ee,animate:X,children:o(`form`,{style:{width:`100%`,height:`auto`,display:`flex`,position:`relative`,flexDirection:oe===`vertical`?`column`:`row`,color:E.color,gap:E.isDocked?0:se},onSubmit:we,method:`POST`,children:[e===`getwaitlist`&&i(`input`,{type:`hidden`,name:`api_key`,value:p}),e===`convertkit`&&i(`input`,{type:`hidden`,name:`api_key`,value:m}),i(u.input,{type:`email`,name:`email`,placeholder:S.placeholder,value:A,className:`${x} framer-custom-input`,onChange:xe,onFocus:Se,onBlur:Ce,autoComplete:`off`,autoCapitalize:`off`,autoCorrect:`off`,spellCheck:`false`,style:{...w,padding:ve,borderRadius:B,fontSize:16,...D,background:S.fill,height:W?`auto`:G,color:S.color,boxShadow:g(Z,Q,$)},variants:De,initial:!1,animate:ue?`focused`:`default`,transition:{duration:.3},"data-1p-ignore":!0}),!E.shouldAppear&&N&&i(C,{shouldAppear:E.shouldAppear,paddingPerSide:I,paddingTop:L,paddingRight:R,padding:z,color:S.color}),E.shouldAppear&&o(`div`,{style:{position:E.isDocked?`absolute`:`relative`,top:E.isDocked?E.insetWhenDocked:0,right:E.isDocked?E.insetWhenDocked:0,bottom:E.isDocked?E.insetWhenDocked:0},children:[i(u.input,{type:`submit`,value:E.label,style:{...w,width:E.isDocked?E.widthWhenDocked:`100%`,height:W?`100%`:G,cursor:`pointer`,padding:ye,borderRadius:E.isDocked?B-E.insetWhenDocked:B,fontSize:16,...E.buttonFont,background:E.fill,color:E.color,zIndex:1,boxShadow:ae(E)}}),N&&i(`div`,{style:{borderRadius:E.isDocked?B-E.insetWhenDocked:B,position:`absolute`,display:`flex`,justifyContent:`center`,alignItems:`center`,width:`100%`,height:`100%`,inset:0,zIndex:2,color:E.color,background:E.fill},children:i(C,{color:E.color})})]})]})})},[`.${x}.framer-custom-input::placeholder { color: var(--framer-custom-placeholder-color) !important; }`]),C=e=>{let t=e.shouldAppear?{}:{position:`absolute`,top:`calc(50% - 8px)`,right:e.paddingPerSide?e.paddingRight:e.padding};return i(u.div,{style:{height:16,width:16,...t},initial:{rotate:0},animate:{rotate:360},transition:{duration:1,repeat:1/0},children:i(u.div,{initial:{scale:0},animate:{scale:1},children:o(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,style:{fill:`currentColor`,color:e.color},children:[i(`path`,{d:`M 8 0 C 3.582 0 0 3.582 0 8 C 0 12.419 3.582 16 8 16 C 12.418 16 16 12.419 16 8 C 15.999 3.582 12.418 0 8 0 Z M 8 14 C 4.687 14 2 11.314 2 8 C 2 4.687 4.687 2 8 2 C 11.314 2 14 4.687 14 8 C 14 11.314 11.314 14 8 14 Z`,fill:`currentColor`,opacity:`0.2`}),i(`path`,{d:`M 8 0 C 12.418 0 15.999 3.582 16 8 C 16 8 16 9 15 9 C 14 9 14 8 14 8 C 14 4.687 11.314 2 8 2 C 4.687 2 2 4.687 2 8 C 2 8 2 9 1 9 C 0 9 0 8 0 8 C 0 3.582 3.582 0 8 0 Z`,fill:`currentColor`})]})})})},f(S,{service:{title:`Service`,type:d.Enum,options:[`loops`,`formspark`,`mailchimp`,`getwaitlist`,`convertkit`],optionTitles:[`Loops`,`FormSpark`,`MailChimp`,`Get Waitlist`,`ConvertKit`],defaultValue:`loops`},mailchimpURL:{title:`URL`,placeholder:`https://***.us6.list-manage.com/subscribe/post?u=***`,type:d.String,hidden:e=>e.service!==`mailchimp`},loopsID:{title:`ID`,placeholder:`klm2jxy0i98abzr01pq7defg5`,type:d.String,hidden:e=>e.service!==`loops`},loopsUserGroup:{title:`User Group`,type:d.String,placeholder:`Title`,optional:!0,hidden:e=>e.service!==`loops`},loopsMailingList:{title:`Mailing List`,type:d.String,placeholder:`cm3q41c5v02ii1lml14om2wtr`,optional:!0,hidden:e=>e.service!==`loops`},formsparkID:{title:`ID`,placeholder:`7PbPpGN3`,type:d.String,hidden:e=>e.service!==`formspark`},getwaitlistAPI:{title:`ID`,placeholder:`9148`,type:d.String,hidden:e=>e.service!==`getwaitlist`},convertkitAPI:{title:`API Key`,placeholder:`5opis1WK6xnVsBwrOINUpe`,type:d.String,hidden:e=>e.service!==`convertkit`},convertkitFormID:{title:`Form ID`,placeholder:`1043389`,type:d.String,hidden:e=>e.service!==`convertkit`},redirectAs:{title:`Success`,type:d.Enum,options:[`link`,`overlay`],optionTitles:[`Open Link`,`Show Overlay`],defaultValue:`link`},link:{title:`Redirect`,type:d.Link,hidden:e=>e.redirectAs===`overlay`},onSubmit:{title:`Submit`,type:d.EventHandler,hidden:e=>e.redirectAs===`link`},trackingId:{title:`Tracking`,placeholder:`ID`,type:d.TrackingId},layout:{title:`Layout`,type:d.Enum,options:[`horizontal`,`vertical`],displaySegmentedControl:!0,hidden:e=>e.button.isDocked},font:{type:d.Font,title:`Font`,controls:`extended`},input:{title:`Input`,type:d.Object,controls:{placeholder:{title:`Placeholder`,type:d.String,defaultValue:`name@email.com`},placeholderColor:{title:` `,type:d.Color,defaultValue:`rgba(0, 0, 0, 0.3)`},fill:{title:`Fill`,type:d.Color,defaultValue:`#EBEBEB`},color:{title:`Text`,type:d.Color,defaultValue:`#000`},height:{title:`Height`,type:d.Boolean,enabledTitle:`Auto`,disabledTitle:`Fixed`},fixedHeight:{title:` `,type:d.Number,displayStepper:!0,min:0,defaultValue:50,hidden:e=>e.height},padding:{title:`Padding`,type:d.FusedNumber,toggleKey:`paddingPerSide`,toggleTitles:[`Padding`,`Padding per side`],defaultValue:15,valueKeys:[`paddingTop`,`paddingRight`,`paddingBottom`,`paddingLeft`],valueLabels:[`T`,`R`,`B`,`L`],min:0},borderRadius:{title:`Radius`,type:d.Number,displayStepper:!0,min:0,defaultValue:8},focusObject:{type:d.Object,title:`Focus`,optional:!0,controls:{focusWidthFrom:{title:`From`,type:d.Number,displayStepper:!0,defaultValue:0},focusWidthTo:{title:`To`,type:d.Number,displayStepper:!0,defaultValue:2},focusColor:{title:`Color`,type:d.Color,defaultValue:`#09F`}}},borderObject:{type:d.Object,title:`Border`,optional:!0,controls:{borderWidth:{title:`Width`,type:d.Number,displayStepper:!0,defaultValue:1},borderColor:{title:`Color`,type:d.Color,defaultValue:`rgba(200,200,200,0.5)`}}},shadowObject:{type:d.Object,title:`Shadow`,optional:!0,controls:{shadowColor:{title:`Color`,type:d.Color,defaultValue:`rgba(0,0,0,0.25)`},shadowX:{title:`Shadow X`,type:d.Number,min:-100,max:100,defaultValue:0},shadowY:{title:`Shadow Y`,type:d.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:`Shadow B`,type:d.Number,min:0,max:100,defaultValue:4}}}}},button:{title:`Button`,type:d.Object,controls:{shouldAppear:{title:`Show`,type:d.Boolean,defaultValue:!0},label:{title:`Label`,type:d.String,defaultValue:`Subscribe`},buttonFont:{type:d.Font,title:`Font`,controls:`extended`},fill:{title:`Fill`,type:d.Color,defaultValue:`#333`},color:{title:`Text`,type:d.Color,defaultValue:`#FFF`},isDocked:{title:`Docked`,type:d.Boolean,defaultValue:!1},widthWhenDocked:{title:`Width`,type:d.Number,min:0,defaultValue:100,displayStepper:!0,hidden:e=>!e.isDocked},insetWhenDocked:{title:`Inset`,type:d.Number,min:0,defaultValue:5,displayStepper:!0,hidden:e=>!e.isDocked},buttonPadding:{title:`Padding`,type:d.FusedNumber,toggleKey:`buttonPaddingPerSide`,toggleTitles:[`Padding`,`Padding per side`],defaultValue:15,valueKeys:[`buttonPaddingTop`,`buttonPaddingRight`,`buttonPaddingBottom`,`buttonPaddingLeft`],valueLabels:[`T`,`R`,`B`,`L`],min:0},buttonShadow:{type:d.Object,title:`Shadow`,optional:!0,controls:{shadowColor:{title:`Color`,type:d.Color,defaultValue:`rgba(0,0,0,0.25)`},shadowX:{title:`Shadow X`,type:d.Number,min:-100,max:100,defaultValue:0},shadowY:{title:`Shadow Y`,type:d.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:`Shadow B`,type:d.Number,min:0,max:100,defaultValue:4}}}}},gap:{title:`Gap`,type:d.Number,displayStepper:!0,min:0,defaultValue:10,hidden:e=>e.button.isDocked}}),w={WebkitAppearance:`none`,appearance:`none`,width:`100%`,height:`auto`,outline:`none`,border:`none`},T={position:`relative`,width:`100%`,height:`100%`,display:`flex`,justifyContent:`center`,alignItems:`center`},E=S}));export{E as Input_default,D as init_Input};
//# sourceMappingURL=Input.hsDdckot.mjs.map